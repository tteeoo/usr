#!/bin/sh
# Sets my wallpaper to a random image in my wallpaper directory

old=$(cat "$XDG_CACHE_HOME"/oldwall)

get_file () {
	new=$(find "$XDG_PICTURES_DIR"/wall -type f -name '*' | shuf -n 1)
}

get_file
while [ "$old" = "$new" ]; do
	get_file
done

feh --no-fehbg --bg-fill "$new"
echo "$new" > "$XDG_CACHE_HOME"/oldwall
